!function($){function toJalaali(t,e,a,r){return"[object Date]"===Object.prototype.toString.call(t)&&(a=t.getDate(),e=t.getMonth()+1,t=t.getFullYear()),d2j(g2d(t,e,a),r)}function toGregorian(t,e,a){return d2g(j2d(t,e,a))}function isValidJalaaliDate(t,e,a){return t>=-61&&3177>=t&&e>=1&&12>=e&&a>=1&&a<=jalaaliMonthLength(t,e)}function isLeapJalaaliYear(t){return 0===jalCal(t).leap}function jalaaliMonthLength(t,e){return 6>=e?31:11>=e?30:isLeapJalaaliYear(t)?30:29}function jalCal(t){var e,a,r,n,i,o,d,c=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178],u=c.length,l=t+621,v=-14,s=c[0];if(s>t||t>=c[u-1])throw new Error("Invalid Jalaali year "+t);for(d=1;u>d&&(e=c[d],a=e-s,!(e>t));d+=1)v=v+8*div(a,33)+div(mod(a,33),4),s=e;return o=t-s,v=v+8*div(o,33)+div(mod(o,33)+3,4),4===mod(a,33)&&a-o===4&&(v+=1),n=div(l,4)-div(3*(div(l,100)+1),4)-150,i=20+v-n,6>a-o&&(o=o-a+33*div(a+4,33)),r=mod(mod(o+1,33)-1,4),-1===r&&(r=4),{leap:r,gy:l,march:i}}function j2d(t,e,a){var r=jalCal(t);return g2d(r.gy,3,r.march)+31*(e-1)-div(e,7)*(e-7)+a-1}function monthToName(t){switch(t){case 1:return"فروردین";case 2:return"اردیبهشت";case 3:return"خرداد";case 4:return"تیر";case 5:return"مرداد";case 6:return"شهریور";case 7:return"مهر";case 8:return"آبان";case 9:return"آذر";case 10:return"دی";case 11:return"بهمن";case 12:return"اسفند"}}function d2j(t,e){var a,r,n,i=d2g(t).gy,o=i-621,d=jalCal(o),c=g2d(i,3,d.march);if(n=t-c,n>=0){if(185>=n)return r=1+div(n,31),a=mod(n,31)+1,{jy:o,jm:1==e?monthToName(r):r,jd:a};n-=186}else o-=1,n+=179,1===d.leap&&(n+=1);return r=7+div(n,30),a=mod(n,30)+1,{jy:o,jm:1==e?monthToName(r):r,jd:a}}function g2d(t,e,a){var r=div(1461*(t+div(e-8,6)+100100),4)+div(153*mod(e+9,12)+2,5)+a-34840408;return r=r-div(3*div(t+100100+div(e-8,6),100),4)+752}function d2g(t){var e,a,r,n,i;return e=4*t+139361631,e=e+4*div(3*div(4*t+183187720,146097),4)-3908,a=5*div(mod(e,1461),4)+308,r=div(mod(a,153),5)+1,n=mod(div(a,153),12)+1,i=div(e,1461)-100100+div(8-n,6),{gy:i,gm:n,gd:r}}function div(t,e){return~~(t/e)}function mod(t,e){return t-~~(t/e)*e}$.ezdate=function(options){var settings=$.extend({persianNumber:!1,attrName:"data-datetime",complete:function(){}},options);return $("["+settings.attrName+"]").each(function(){var object=$(this),timeAttr=object.attr(settings.attrName);if("undefined"!=typeof timeAttr&&timeAttr!==!1){var gDate=new Date(object.attr(settings.attrName)),day=gDate.getDate(),month=gDate.getMonth(),year=gDate.getFullYear(),hour=gDate.getHours(),minute=gDate.getMinutes(),converted=toJalaali(year,month+1,day,!1);if(converted=converted.jd+"/"+converted.jm+"/"+converted.jy,settings.persianNumber){var persian=Array("۰","۱","۲","۳","۴","۵","۶","۷","۸","۹");for(i=0;i<10;i++)converted=converted.replace(eval("/"+i+"/g"),persian[i])}object.text(converted)}$.isFunction(settings.complete)&&settings.complete.call(this)})}}(jQuery);